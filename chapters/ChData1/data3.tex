\chapter{Weather}
\section{introduction}

Go to https://openweathermap.org/api/ and current weather data.

Subscribe for free access and get Api. You will need to provide an email address sometime it is better to have a sacrificial email account to use for these kind of activities.

Copy the API key you get, you will need to use it later.

\section{Getting started}



 Start of a project to bring in information from a website with an Application Programming Interface (API). We are going to use a modified version of "Project: Fetching Current Weather Data" from "Automate the boring stuff with Python" by Al Sweigart e-book available at https://ebookcentral.proquest.com/lib/canterburychristchurch/detail.action?docID=4503140 pages 383-387

\section{What do you need to do first?}
Go to https://openweathermap.org/api/ and current weather data. Subscribe for free access and get Api. You will need to provide an email address sometime it is better to have a sacrificial email account to use for these kind of activities. Copy the API key you get, you will need to use it later. In the code below in the line APP_ID=' ' inside the quotes put your API key

We are setting up the API key and import some of the Python modules we need.
\begin{verbatim}
APP_ID=''

import json, requests, sys
Location='London,uk'
APP_ID=''
â€‹
import json, requests, sys
Location='London,uk'  
\end{verbatim}

In this section we are creating a string made up of the URL and the location we want information about and adding in our API key for the site - it is just a string at this stage.

Requesting the information from the site with the URL we created and pass back the information.

Then print out what was returned.

\begin{verbatim}
url='http://api.openweathermap.org/data/2.5/weather?q='+Location+'&APPID='+APP_ID
response= requests.get(url)
response.raise_for_status()
print(response.text)
\end{verbatim}


Now we need load the data which is in JSON form into a Python version.
\begin{verbatim}
   weatherData = json.loads(response.text)
   w=weatherData['weather']
   print('Current weather in %s:' % (weatherData["name"]))
   print(w[0]['description'])
   print('The maximum temperature in Kelvin is %s:' % (weatherData["main"]["temp"])) 
\end{verbatim}


If you want to break the code up into explainable chunks in the notebook and describe what each does using markdown.

If you were do this for your assignment the minimum expectation to be done (and I know you all want to better than that :-) ) for "all the questions and tasks" described in the marking scheme is the following.

\section{extension ideas}

The examples below are not requirements but some ideas to help. In all cases clear and read documentation with lots of analysis is going to help.

 

1. Get the system to collect and print out weather information from 5 cities automatically

 

2. Get the system to collect information automatically from a number of cities and do compare and contrast to make recommendations to the user. Use https://openweathermap.org/ to search for other cities to include.

 

3. Combine this API with data from others APIs to extend what the software does. You will have to get a new API key for the new APIs you use.

 

4. You could also think about how to combine the outputs graphically in table form, etc.

\section{sources of useful information}

\url{//openweathermap.org/api/}
\url{https://ebookcentral.proquest.com/lib/canterburychristchurch/detail.action?docID=4503140}
\url{https://kentcomputing.blogspot.com/2023/01/earthquakes-in-month.html}

